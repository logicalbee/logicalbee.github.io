<!doctype html><html lang=en-us><head><meta http-equiv=X-Clacks-Overhead content="GNU Terry Pratchett"><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><link rel="shortcut icon" href=https://logicalbee.github.io/favicon.svg><title>Making time to learn software design patterns | Sushanth Kurdekar</title><meta name=title content="Making time to learn software design patterns"><meta name=description content="Exploring different design patterns in Python"><meta name=keywords content><meta property="og:url" content="https://logicalbee.github.io/posts/design-patterns/"><meta property="og:site_name" content="Sushanth Kurdekar"><meta property="og:title" content="Making time to learn software design patterns"><meta property="og:description" content="Exploring different design patterns in Python"><meta property="og:locale" content="en_us"><meta property="og:type" content="article"><meta property="article:section" content="posts"><meta property="article:published_time" content="2024-07-28T00:00:00+00:00"><meta property="article:modified_time" content="2024-07-28T00:00:00+00:00"><meta name=twitter:card content="summary"><meta name=twitter:title content="Making time to learn software design patterns"><meta name=twitter:description content="Exploring different design patterns in Python"><meta itemprop=name content="Making time to learn software design patterns"><meta itemprop=description content="Exploring different design patterns in Python"><meta itemprop=datePublished content="2024-07-28T00:00:00+00:00"><meta itemprop=dateModified content="2024-07-28T00:00:00+00:00"><meta itemprop=wordCount content="1190"><meta name=referrer content="no-referrer-when-downgrade"><style>:root{--width:720px;--font-main:Verdana, sans-serif;--font-secondary:Verdana, sans-serif;--font-scale:1em;--line-height:1.5;--spacing:1.5rem;--border-radius:8px;--shadow:0 2px 10px rgba(0, 0, 0, 0.1);--transition:all 0.3s cubic-bezier(0.4, 0, 0.2, 1)}[data-theme=light],:root{--background-color:#ffffff;--background-secondary:#f8f9fa;--heading-color:#1a202c;--text-color:#2d3748;--text-muted:#718096;--link-color:#3182ce;--link-hover:#2c5aa0;--visited-color:#805ad5;--border-color:#e2e8f0;--code-background:#1a202c;--code-color:#f7fafc;--code-inline-bg:#edf2f7;--code-inline-color:#e53e3e;--blockquote-bg:#edf2f7;--blockquote-border:#cbd5e0;--blockquote-color:#4a5568;--selection-bg:#bee3f8;--focus-ring:#3182ce}[data-theme=dark]{--background-color:#0f1419;--background-secondary:#1a202c;--heading-color:#f7fafc;--text-color:#e2e8f0;--text-muted:#a0aec0;--link-color:#63b3ed;--link-hover:#90cdf4;--visited-color:#b794f6;--border-color:#2d3748;--code-background:#1a202c;--code-color:#f7fafc;--code-inline-bg:#2d3748;--code-inline-color:#fbb6ce;--blockquote-bg:#1a202c;--blockquote-border:#4a5568;--blockquote-color:#cbd5e0;--selection-bg:#2d3748;--focus-ring:#63b3ed}*{box-sizing:border-box}::selection{background-color:var(--selection-bg)}body{font-family:var(--font-secondary);font-size:var(--font-scale);line-height:var(--line-height);margin:0;padding:var(--spacing);max-width:var(--width);margin-left:auto;margin-right:auto;background-color:var(--background-color);color:var(--text-color);word-wrap:break-word;overflow-wrap:break-word;transition:var(--transition);-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale}h1,h2,h3,h4,h5,h6{font-family:var(--font-main);font-weight:700;color:var(--heading-color);line-height:1.3;margin-top:2em;margin-bottom:.5em;letter-spacing:-.025em}h1{font-size:2.5rem}h2{font-size:2rem}h3{font-size:1.5rem}h4{font-size:1.25rem}h5{font-size:1.125rem}h6{font-size:1rem}p{margin-bottom:var(--spacing);color:var(--text-color)}a{color:var(--link-color);text-decoration:none;transition:var(--transition);border-radius:2px}a:hover{color:var(--link-hover)}a:focus{outline:2px solid var(--focus-ring);outline-offset:2px}a:visited{color:var(--visited-color)}nav{display:flex;align-items:center;justify-content:space-between;margin-bottom:calc(var(--spacing) * 2);padding-bottom:var(--spacing);border-bottom:1px solid var(--border-color);flex-wrap:wrap;gap:1rem;font-style:italic}nav .nav-links{display:flex;gap:1.5rem;align-items:center}nav a{font-weight:500;padding:.5rem 0}.theme-toggle{background:var(--background-secondary);border:1px solid var(--border-color);color:var(--text-color);padding:.5rem 1rem;border-radius:var(--border-radius);cursor:pointer;font-size:.875rem;font-weight:500;transition:var(--transition);display:flex;align-items:center;gap:.5rem}.theme-toggle:hover{background-color:var(--text-color);color:var(--background-color);transform:translateY(-1px)}main{margin-bottom:calc(var(--spacing) * 3)}code{font-family:var(--font-mono);font-size:var(--font-scale);font-weight:500;letter-spacing:.025em}:not(pre)>code{background-color:var(--code-inline-bg);color:var(--code-inline-color);padding:.2rem .4rem;border-radius:4px;font-weight:600;font-size:.85em}pre{background-color:var(--code-background);color:var(--code-color);padding:1.5rem;border-radius:var(--border-radius);overflow-x:auto;margin:var(--spacing)0;box-shadow:0 4px 6px -1px rgba(0,0,0,.1),0 2px 4px -1px rgba(0,0,0,6%);border:1px solid var(--border-color);position:relative;font-size:1em;line-height:1.6}[data-theme=dark] pre{box-shadow:0 4px 6px -1px rgba(0,0,0,.3),0 2px 4px -1px rgba(0,0,0,.2)}pre code{background-color:transparent;color:inherit;padding:0;border-radius:0;font-size:.9em;font-weight:400;letter-spacing:inherit}pre[data-lang]::before{content:attr(data-lang);position:absolute;top:.5rem;right:1rem;font-size:.9rem;color:var(--text-muted);text-transform:uppercase;letter-spacing:.05em;font-weight:600}blockquote{background-color:var(--blockquote-bg);border-left:4px solid var(--link-color);color:var(--blockquote-color);padding:1rem 1.5rem;margin:var(--spacing)0;border-radius:0 var(--border-radius)var(--border-radius)0;font-style:italic}blockquote p:last-child{margin-bottom:0}ul,ol{margin:var(--spacing)0;padding-left:2rem}li{margin-bottom:.5rem}table{width:100%;border-collapse:collapse;margin:var(--spacing)0;border-radius:var(--border-radius);overflow:hidden;box-shadow:var(--shadow)}th,td{padding:.75rem 1rem;text-align:left;border-bottom:1px solid var(--border-color)}th{background-color:var(--background-secondary);font-weight:600;color:var(--heading-color)}img{max-width:100%;height:auto;border-radius:var(--border-radius);margin:var(--spacing)0;box-shadow:0 10px 25px -5px rgba(0,0,0,.1),0 10px 10px -5px rgba(0,0,0,4%);transition:var(--transition);border:1px solid var(--border-color)}[data-theme=dark] img{box-shadow:0 10px 25px -5px rgba(0,0,0,.4),0 10px 10px -5px rgba(0,0,0,.2);border-color:rgba(255,255,255,.1)}img:hover{transform:translateY(-2px);box-shadow:0 20px 40px -10px rgba(0,0,0,.15),0 10px 20px -5px rgba(0,0,0,8%)}[data-theme=dark] img:hover{box-shadow:0 20px 40px -10px rgba(0,0,0,.5),0 10px 20px -5px rgba(0,0,0,.3)}img+em,figure figcaption{display:block;text-align:center;font-style:italic;font-size:.875rem;color:var(--text-muted);margin-top:.5rem;margin-bottom:var(--spacing)}figure{margin:var(--spacing)0;text-align:center}figure img{margin-bottom:.5rem}hr{border:0;height:1px;background:var(--border-color);margin:calc(var(--spacing) * 2)0}button{font-family:inherit;cursor:pointer;border:none;border-radius:var(--border-radius);transition:var(--transition)}button:focus{outline:2px solid var(--focus-ring);outline-offset:2px}.title{margin-bottom:calc(var(--spacing) * 2)}.title:hover{text-decoration:none}.title h1{margin:0;font-size:2.5rem;background:linear-gradient( 135deg,var(--link-color),var(--visited-color) );background-clip:text;-webkit-background-clip:text;-webkit-text-fill-color:transparent}.inline{width:auto !important}time{font-family:var(--font-mono);font-size:.875rem;color:var(--text-muted);font-weight:500}strong,b{color:var(--heading-color);font-weight:600}ul.blog-posts{list-style:none;padding:0;margin:calc(var(--spacing) * 2)0}ul.blog-posts li{display:flex;align-items:baseline;gap:1rem;padding:.75rem 0;border-bottom:1px solid var(--border-color);transition:var(--transition)}ul.blog-posts li:hover{background-color:var(--background-secondary);margin:0 -1rem;padding-left:1rem;padding-right:1rem;border-radius:var(--border-radius)}ul.blog-posts li:last-child{border-bottom:none}ul.blog-posts li time{flex-shrink:0;min-width:120px;font-size:.85rem}ul.blog-posts li a{font-weight:500;flex:1}ul.blog-posts li a:visited{color:var(--visited-color)}footer{padding:calc(var(--spacing) * 2)0;text-align:center;border-top:1px solid var(--border-color);color:var(--text-muted);font-size:.875rem}@media(max-width:768px){:root{--font-scale:1rem;--spacing:1rem;--width:100%}body{padding:1rem}h1{font-size:2rem}h2{font-size:1.75rem}h3{font-size:1.375rem}nav{flex-direction:column;align-items:stretch}nav .nav-links{justify-content:center}.theme-toggle{align-self:center}ul.blog-posts li{flex-direction:column;align-items:flex-start;gap:.25rem}ul.blog-posts li time{min-width:auto}pre{padding:1rem;margin-left:-1rem;margin-right:-1rem;border-radius:0}}@media print{body{background:#fff;color:#000;font-size:12pt;line-height:1.4}.theme-toggle{display:none}a{color:#000}pre{background:#f5f5f5;border:1px solid #ccc}}@media(prefers-reduced-motion:reduce){*{animation-duration:.01ms !important;animation-iteration-count:1 !important;transition-duration:.01ms !important}}.sr-only{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}</style></head><body><header><a href=/ class=title><h2>Sushanth Kurdekar</h2></a><nav><a href=/>home</a>
<a href=/posts/>blog</a>
<a href=/projects/>projects</a>
<a href=/resume.pdf>resume</a>
<button class=theme-toggle aria-label="Switch to dark mode">🌙</button></nav></header><main><content><p>Inorder to write well structured, extensible, and readable code - design patterns help. I have recently started to read and follow more on this path. Until now, I didn&rsquo;t care much about these patterns (although some design patterns are just patterns we do frequently without knowing).</p><p>In 1994, 4 people came together to write the book <code>Design Patterns: Elements of Reusable Object-Oriented Software</code>. It became a standard for the design patterns and since then the book was also called as <code>The gang-of-four(gof) book</code>.</p><p>Before patterns, there are different types of patterns:</p><ol><li>Creational Patterns: Patterns used to create classes/objects</li><li>Structural Patterns: Patterns used to connect different objects/classes</li><li>Behavioural Patterns: Patterns to take care of communication and responsibility between objects/classes</li></ol><h2 id=creational-patterns>Creational Patterns</h2><h4 id=factory>Factory</h4><p>Factory pattern is used to create objects instead of directly creating objects. This can be extended to create different types of objects.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> abc <span style=color:#f92672>import</span> ABC, abstractmethod
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Factory</span>(ABC):
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@abstractmethod</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>create</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>	
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>UserFactory</span>(Factory):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>create</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> User()
</span></span><span style=display:flex><span>		
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>PostFactory</span>(Factory):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>create</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> Post()
</span></span><span style=display:flex><span>		
</span></span><span style=display:flex><span>user_factory <span style=color:#f92672>=</span> UserFactory()
</span></span><span style=display:flex><span>user1 <span style=color:#f92672>=</span> user_factory<span style=color:#f92672>.</span>create()
</span></span><span style=display:flex><span>user2 <span style=color:#f92672>=</span> user_factory<span style=color:#f92672>.</span>create()
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>post_factory <span style=color:#f92672>=</span> PostFactory()
</span></span><span style=display:flex><span>post1 <span style=color:#f92672>=</span> post_factory<span style=color:#f92672>.</span>create()
</span></span><span style=display:flex><span>post2 <span style=color:#f92672>=</span> post_factory<span style=color:#f92672>.</span>create()
</span></span><span style=display:flex><span><span style=color:#f92672>...</span>
</span></span></code></pre></div><p>Factory, Abstract factory, Simple factory, etc&mldr; are nearly same. Read <a href=https://refactoring.guru/design-patterns/factory-method/python/example>this</a> to find out the differences.</p><h4 id=singleton>Singleton</h4><p>Every time a class is called, an object is created. Singleton pattern is used to use a single object for the class however many times it is called.</p><p>This can be achieved by overriding the <code>__call__</code> method in python. We maintain a global instance object and see if its None or not None.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>DatabaseConnectionSingleton</span>:
</span></span><span style=display:flex><span>    _instance <span style=color:#f92672>=</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__call__</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> DatabaseConnectionSingleton<span style=color:#f92672>.</span>_instance <span style=color:#f92672>is</span> <span style=color:#66d9ef>None</span>:
</span></span><span style=display:flex><span>            DatabaseConnectionSingleton<span style=color:#f92672>.</span>_instance <span style=color:#f92672>=</span> self
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> DatabaseConnectionSingleton<span style=color:#f92672>.</span>_instance
</span></span><span style=display:flex><span>		
</span></span><span style=display:flex><span>db_conn1 <span style=color:#f92672>=</span> DatabaseConnectionSingleton()
</span></span><span style=display:flex><span>db_conn2 <span style=color:#f92672>=</span> DatabaseConnectionSingleton()
</span></span><span style=display:flex><span>print(db_conn1 <span style=color:#f92672>==</span> db_conn2) <span style=color:#75715e># True, since its a singleton class</span>
</span></span></code></pre></div><h4 id=builder>Builder</h4><p>Instead of having a class which returns an object with completely arranged pieces, builder class has methods for individual parts which can be used by the objects.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> abc <span style=color:#f92672>import</span> ABC
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>ComputerBuilder</span>(ABC):
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@abstractmethod</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>attach_monitor</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@abstractmethod</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>attach_cpu</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@abstractmethod</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>attach_keyboard</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@abstractmethod</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>attach_mouse</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>		
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>PCBuilder</span>(ComputerBuilder):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>attach_monitor</span>(self):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;attaching monitor to PC&#34;</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>attach_cpu</span>(self):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;attaching cpu to PC&#34;</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>attach_keyboard</span>(self):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;attaching keyboard to PC&#34;</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>attach_mouse</span>(self):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;attaching mouse to PC&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Director</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__init__</span>(self):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_builder <span style=color:#f92672>=</span> <span style=color:#66d9ef>None</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>builder</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>_builder
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@builder.setter</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>builder</span>(self, builder):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_builder <span style=color:#f92672>=</span> builder
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>build_single_monitor_pc</span>(self):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_builder<span style=color:#f92672>.</span>attach_monitor()
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_builder<span style=color:#f92672>.</span>attach_cpu()
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_builder<span style=color:#f92672>.</span>attach_keyboard()
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_builder<span style=color:#f92672>.</span>attach_mouse()
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>build_multi_monitor_pc</span>(self):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_builder<span style=color:#f92672>.</span>attach_monitor()
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_builder<span style=color:#f92672>.</span>attach_monitor()
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_builder<span style=color:#f92672>.</span>attach_monitor()
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_builder<span style=color:#f92672>.</span>attach_cpu()
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_builder<span style=color:#f92672>.</span>attach_keyboard()
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_builder<span style=color:#f92672>.</span>attach_mouse()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>builder <span style=color:#f92672>=</span> ComputerBuilder()
</span></span><span style=display:flex><span>director <span style=color:#f92672>=</span> Director()
</span></span><span style=display:flex><span>director<span style=color:#f92672>.</span>builder <span style=color:#f92672>=</span> builder
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>director<span style=color:#f92672>.</span>build_single_monitor_pc()
</span></span><span style=display:flex><span>director<span style=color:#f92672>.</span>build_multi_monitor_pc()
</span></span></code></pre></div><p>Here, we have a <code>ComputerBuilder</code> abstract base class. Using this, we build using the <code>PCBuilder</code> to build PCs with multiple configurations. Finally, the <code>Director</code> class is used in builder patterns to handle the assembling of parts. We have 2 methods <code>build_single_monitor_pc</code> and <code>build_multi_monitor_pc</code> using the builder.</p><p>Then, we use the director to build single monitor pc and multi monitor pc using the same builder class.</p><h2 id=structural-patterns>Structural Patterns</h2><h4 id=adapter-pattern>Adapter Pattern</h4><p>Adapter pattern is used to connect old/incompatible classes with required usecases. For example, there is a old class <code>OldClass</code> which has a <code>call_specific_api_and_get_weather_data</code> method.
But, the response from this method is much different than the latest classes use. We do not want to modify this <code>OldClass</code> since it might break something.</p><p>Hence we add a adapter inbetween to translate the response from the OldClass method.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>OldClass</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>call_specific_api_and_get_weather_data</span>(self, city):
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> {<span style=color:#e6db74>&#34;result&#34;</span>: { <span style=color:#e6db74>&#34;city&#34;</span>: <span style=color:#e6db74>&#34;city1&#34;</span>, <span style=color:#e6db74>&#34;weather&#34;</span>: {<span style=color:#f92672>...</span>} } }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>LatestClass</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>request_weather</span>(self, city):
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> { <span style=color:#e6db74>&#34;city&#34;</span>: <span style=color:#e6db74>&#34;city1&#34;</span>, <span style=color:#e6db74>&#34;weather&#34;</span>: <span style=color:#e6db74>&#34;25 C&#34;</span> }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>WeatherAdapter</span>(OldClass, LatestClass):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>request_weather</span>(self, city):
</span></span><span style=display:flex><span>        old_response <span style=color:#f92672>=</span> self<span style=color:#f92672>.</span>call_specific_api_and_get_weather_data(city)
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> { <span style=color:#e6db74>&#34;city&#34;</span>: city, <span style=color:#e6db74>&#34;weather&#34;</span>: old_response<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;result&#34;</span>, {})<span style=color:#f92672>.</span>get(<span style=color:#e6db74>&#34;weather&#34;</span>) }
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>def</span> <span style=color:#a6e22e>caller</span>(target, city):
</span></span><span style=display:flex><span>    target<span style=color:#f92672>.</span>request_weather(city)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>target <span style=color:#f92672>=</span> LatestClass()
</span></span><span style=display:flex><span>adaptee <span style=color:#f92672>=</span> WeatherAdapter()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>caller(target, <span style=color:#e6db74>&#34;Chennai&#34;</span>)
</span></span><span style=display:flex><span>caller(adaptee, <span style=color:#e6db74>&#34;Chennai&#34;</span>)
</span></span></code></pre></div><p>We have converted the <code>OldClass</code> api response to something the client can understand.</p><h4 id=facade-pattern>Facade Pattern</h4><p>This pattern helps to do operations at a single place in a complex system with many interfaces, APIs.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Facade</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__init__</span>(self, a, b):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_a <span style=color:#f92672>=</span> a
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_b <span style=color:#f92672>=</span> b
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_random_number</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>_a<span style=color:#f92672>.</span>random() <span style=color:#f92672>+</span> self<span style=color:#f92672>.</span>_b<span style=color:#f92672>.</span>random()
</span></span><span style=display:flex><span>		
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>A</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__init__</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>random</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> rand(<span style=color:#ae81ff>100</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>B</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__init__</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>random</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> rand(<span style=color:#ae81ff>1000</span>)
</span></span><span style=display:flex><span>		
</span></span><span style=display:flex><span>a <span style=color:#f92672>=</span> A()
</span></span><span style=display:flex><span>b <span style=color:#f92672>=</span> B()
</span></span><span style=display:flex><span>facade <span style=color:#f92672>=</span> Facade(a, b)
</span></span><span style=display:flex><span>print(facade<span style=color:#f92672>.</span>process()) <span style=color:#75715e># a.random() + b.random()</span>
</span></span></code></pre></div><p>All the above code does is that: it adds 2 random numbers by calling <code>random()</code> function of those objects. Just that, in the <code>Facade</code> class we use the a and b objects to get a result.</p><h2 id=behavioural-patterns>Behavioural Patterns</h2><h4 id=command-pattern>Command Pattern</h4><p>The Command pattern is used when one wants to do an operation but make it extensible use objects instead of directly doing the operation.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> abc <span style=color:#f92672>import</span> ABC, abstractmethod
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Command</span>(ABC):
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@abstractmethod</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>execute</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>		
</span></span><span style=display:flex><span>		
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HelloWorldCommand</span>(Command):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__init__</span>(self, name):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>name <span style=color:#f92672>=</span> name
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>execute</span>(self):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Hello, </span><span style=color:#e6db74>{</span>self<span style=color:#f92672>.</span>name<span style=color:#e6db74>}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>		
</span></span><span style=display:flex><span>HelloWorldCommand(<span style=color:#e6db74>&#34;python&#34;</span>)<span style=color:#f92672>.</span>execute() <span style=color:#75715e># Hello, python</span>
</span></span></code></pre></div><h4 id=strategy-pattern>Strategy Pattern</h4><p>The Strategy pattern uses a context variable to interchange strategy whenever required.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> abc <span style=color:#f92672>import</span> ABC, abstractmethod
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>PaymentStrategy</span>(ABC):
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@abstractmethod</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>pay</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>		
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CreditCardPaymentStrategy</span>(PaymentStrategy):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>pay</span>(self):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Paying via credit card&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>CashPaymentStrategy</span>(PaymentStrategy):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>pay</span>(self):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Paying via cash&#34;</span>)
</span></span><span style=display:flex><span>		
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>PaymentContext</span>(ABC):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__init__</span>(self, strategy: PaymentStrategy):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_strategy <span style=color:#f92672>=</span> strategy
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@property</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>strategy</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> self<span style=color:#f92672>.</span>_strategy
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@strategy.setter</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>strategy</span>(self, strategy: Strategy):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_strategy <span style=color:#f92672>=</span> strategy
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>process</span>(self):
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_strategy<span style=color:#f92672>.</span>pay()
</span></span><span style=display:flex><span>        <span style=color:#f92672>...</span>
</span></span><span style=display:flex><span>	
</span></span><span style=display:flex><span>context <span style=color:#f92672>=</span> PaymentContext(CashStrategy())
</span></span><span style=display:flex><span>context<span style=color:#f92672>.</span>process() <span style=color:#75715e># pay using cash</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>context<span style=color:#f92672>.</span>strategy <span style=color:#f92672>=</span> CreditCardPaymentStrategy()
</span></span><span style=display:flex><span>context<span style=color:#f92672>.</span>process() <span style=color:#75715e># pay using credit-card</span>
</span></span></code></pre></div><h4 id=state-pattern>State Pattern</h4><p>The State pattern is used when modifying the state of the class in-between. This is helpful when there are a lot of switch statements in the flow.</p><p>For example, a Vending machine starts with an <code>IdleState</code>. When a coin is inserted, it moves to <code>HasCoinState</code>. The same actions will be available for both states, but the implementation depends on the logic of the application. Here, when the machine is in IdleState, we cannot dispatch the food whereas in HasCoinState, we can dispatch the food if there is required amount in the machine.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>from</span> abc <span style=color:#f92672>import</span> ABC, abstractmethod
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>State</span>(ABC):
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@abstractmethod</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>insert_coin</span>(self, machine, amount):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@abstractmethod</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>return_change</span>(self, machine):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#a6e22e>@abstractmethod</span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>select_product</span>(self, machine, price):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>pass</span>
</span></span><span style=display:flex><span>		
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>IdleState</span>(State):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>insert_coin</span>(self, machine, amount):
</span></span><span style=display:flex><span>        machine<span style=color:#f92672>.</span>amount <span style=color:#f92672>+=</span> amount
</span></span><span style=display:flex><span>        machine<span style=color:#f92672>.</span>set_state(HasCoinState())
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>return_change</span>(self, machine):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;No coins to return&#34;</span>)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>select_product</span>(self, machine, price):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Add coins to select product&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>HasCoinState</span>(State):
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>insert_coin</span>(self, machine, amount):
</span></span><span style=display:flex><span>        machine<span style=color:#f92672>.</span>amount <span style=color:#f92672>+=</span> amount
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>return_change</span>(self, machine):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>return</span> machine<span style=color:#f92672>.</span>amount
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>select_product</span>(self, machine, price):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>if</span> machine<span style=color:#f92672>.</span>amount <span style=color:#f92672>&lt;=</span> price:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>&#34;Selecting product&#34;</span>)
</span></span><span style=display:flex><span>            machine<span style=color:#f92672>.</span>amount <span style=color:#f92672>=</span> price <span style=color:#f92672>-</span> machine<span style=color:#f92672>.</span>amount
</span></span><span style=display:flex><span>            <span style=color:#66d9ef>if</span> machine<span style=color:#f92672>.</span>amount <span style=color:#f92672>==</span> <span style=color:#ae81ff>0</span>:
</span></span><span style=display:flex><span>                machine<span style=color:#f92672>.</span>set_state(IdleState())
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>else</span>:
</span></span><span style=display:flex><span>            print(<span style=color:#e6db74>f</span><span style=color:#e6db74>&#34;Add </span><span style=color:#e6db74>{</span>price<span style=color:#f92672>-</span>machine<span style=color:#f92672>.</span>amount<span style=color:#e6db74>}</span><span style=color:#e6db74> coins to select product&#34;</span>)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>VendingMachine</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__init__</span>(self):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>state <span style=color:#f92672>=</span> IdleState()
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>amount <span style=color:#f92672>=</span> <span style=color:#ae81ff>0</span>
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>set_state</span>(self, state):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>state <span style=color:#f92672>=</span> state
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>insert_coin</span>(self, amount):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>state<span style=color:#f92672>.</span>insert_coin(self, amount)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>select_product</span>(self, price):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>state<span style=color:#f92672>.</span>select_product(self, price)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>return_change</span>(self):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>state<span style=color:#f92672>.</span>return_change(self)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>v <span style=color:#f92672>=</span> VendingMachine() <span style=color:#75715e># IdleState</span>
</span></span><span style=display:flex><span>v<span style=color:#f92672>.</span>insert_coin(<span style=color:#ae81ff>5</span>) <span style=color:#75715e># HasCoinState</span>
</span></span><span style=display:flex><span>v<span style=color:#f92672>.</span>insert_coin(<span style=color:#ae81ff>5</span>)
</span></span><span style=display:flex><span>v<span style=color:#f92672>.</span>select_product(<span style=color:#ae81ff>10</span>) <span style=color:#75715e># IdleState, since machine.amount = 0</span>
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>v<span style=color:#f92672>.</span>return_change()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>v<span style=color:#f92672>.</span>select_product(<span style=color:#ae81ff>10</span>) <span style=color:#75715e># no coins in the machine</span>
</span></span></code></pre></div><h4 id=observer-pattern>Observer Pattern</h4><p>As the name says, observer pattern is used to push updates/notifications to the registered observers.</p><div class=highlight><pre tabindex=0 style=color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4><code class=language-python data-lang=python><span style=display:flex><span><span style=color:#f92672>import</span> time
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>Observer</span>:
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>__init__</span>(self):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_observers <span style=color:#f92672>=</span> []
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>attach</span>(self, observer):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_observers<span style=color:#f92672>.</span>append(observer)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>detach</span>(self, observer):
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>_observers<span style=color:#f92672>.</span>remove(observer)
</span></span><span style=display:flex><span>        
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>notify</span>(self, stock_name, stock_price):
</span></span><span style=display:flex><span>        <span style=color:#66d9ef>for</span> observer <span style=color:#f92672>in</span> self<span style=color:#f92672>.</span>_observers:
</span></span><span style=display:flex><span>            observer<span style=color:#f92672>.</span>notify(stock_name, stock_price)
</span></span><span style=display:flex><span>            
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>get_and_update_stock_price</span>(self, stock_name):
</span></span><span style=display:flex><span>        stock_price <span style=color:#f92672>=</span> api_response<span style=color:#f92672>.</span>get(stock_name)
</span></span><span style=display:flex><span>        self<span style=color:#f92672>.</span>notify(stock_name, stock_price)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>class</span> <span style=color:#a6e22e>StockPriceObserver</span>(Observer):	
</span></span><span style=display:flex><span>    <span style=color:#66d9ef>def</span> <span style=color:#a6e22e>notify</span>(self, stock_name, stock_price):
</span></span><span style=display:flex><span>        print(<span style=color:#e6db74>&#34;Stock </span><span style=color:#e6db74>{stock_name}</span><span style=color:#e6db74> updated with latest value </span><span style=color:#e6db74>{stock_price}</span><span style=color:#e6db74>&#34;</span>)
</span></span><span style=display:flex><span>		
</span></span><span style=display:flex><span>observer <span style=color:#f92672>=</span> Observer()
</span></span><span style=display:flex><span>stock_price_observer <span style=color:#f92672>=</span> StockPriceObserver()
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span>observer<span style=color:#f92672>.</span>attach(stock_price_observer)
</span></span><span style=display:flex><span>
</span></span><span style=display:flex><span><span style=color:#66d9ef>while</span> <span style=color:#66d9ef>True</span>:
</span></span><span style=display:flex><span>	observer<span style=color:#f92672>.</span>get_and_update_stock_price()
</span></span><span style=display:flex><span>	time<span style=color:#f92672>.</span>sleep(<span style=color:#ae81ff>10</span>)
</span></span></code></pre></div><p>These are some the design patterns that exists - refer <a href=https://refactoring.guru/design-patterns>refactoring.guru</a> for more exhaustive list of patterns.</p></content><p></p></main><footer></footer><script>function toggleTheme(){const t=document.body,s=t.getAttribute("data-theme")||"light",e=s==="dark"?"light":"dark";t.setAttribute("data-theme",e),localStorage.setItem("theme",e);const n=document.querySelector(".theme-toggle");n&&(n.textContent=e==="dark"?"☀️":"🌙")}function initializeTheme(){const t=localStorage.getItem("theme")||"light";document.body.setAttribute("data-theme",t);const e=document.querySelector(".theme-toggle");e?(e.textContent=t==="dark"?"☀️":"🌙",e.addEventListener("click",toggleTheme)):setTimeout(initializeTheme,100)}document.readyState==="loading"?document.addEventListener("DOMContentLoaded",initializeTheme):initializeTheme()</script></body></html>